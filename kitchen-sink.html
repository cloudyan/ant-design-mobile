<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>AntD Mobile</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0" />
    <link rel="stylesheet" type="text/css" href="./kitchen-sink.css"/>
</head>
<body>

<div id="react-content"></div>
</body>
<!--<script src="https://a.alipayobjects.com/static/fastclick/1.0.6/fastclick.min.js"></script>-->
<script src="./kitchen-sink.js"></script>
<script type="text/javascript">

function getQueryString(name) {
  var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
  var r = window.location.search.substr(1).match(reg);
  if (r != null) return unescape(r[2]); return null;
}

var demos = document.getElementsByClassName('demo-preview-item');
if(getQueryString('iframeDemo')) {
  showDemo(0);
}

function showDemo(index) {
  let demoSort;
  const path = location.hash.split('/')[1];
  Object.keys(window.demosList).forEach(i => {
    if (path === i.split('/')[1]) {
      demoSort = window.sortFn(window.demosList[i]);
    }
  });
  let customNavBar = window.react.cloneElement(window.navbar, {}, `${path}-${demoSort[index].meta.title}`);
  if (demoSort && demoSort[index].preview.type.customNavBar) {
    customNavBar = demoSort[index].preview.type.customNavBar;
  }
  window['react-dom'].render(customNavBar, document.getElementById('demoNavbar'));
  for (var i = 0; i < demos.length; i++ ) {
    demos[i].style.display = 'none';
  }
  demos[index].style.display = 'block';
}
</script>
</html>
